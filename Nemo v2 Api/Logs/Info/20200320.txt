2020-03-20T20:18:57.2441583+04:00 0HLUCT9I2UUCM:00000001 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/user/update?userId=2&firstname=%22uf%22&lastname=%22Mustafayev%22&password=%221234%22&restId=2 application/json 2 (ca22a1cb)
2020-03-20T20:18:57.2870060+04:00 0HLUCT9I2UUCM:00000001 [INF] Executing endpoint '"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)"' (500cc934)
2020-03-20T20:18:57.3067642+04:00 0HLUCT9I2UUCM:00000001 [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddUser(Int64, System.String, System.String, System.String, Int64)" on controller "Nemo_v2_Api.Controllers.UserController" ("Nemo v2 Api"). (122b2fdf)
2020-03-20T20:18:57.6177884+04:00 0HLUCT9I2UUCM:00000001 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "None" (9958f5bb)
2020-03-20T20:18:57.6318984+04:00 0HLUCT9I2UUCM:00000001 [INF] Executing action method "Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)" - Validation state: Valid (dad538d7)
2020-03-20T20:18:59.4181353+04:00 0HLUCT9I2UUCM:00000001 [INF] Executed DbCommand ("237"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"AddedDate\", s.\"Firstame\", s.\"Lastname\", s.\"ModifiedDate\", s.\"Password\", s.\"RestaurantId\"
FROM \"Users\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 2" (0723d8ff)
2020-03-20T20:18:59.7049414+04:00 0HLUCT9I2UUCM:00000001 [ERR] Failed executing DbCommand ("187"ms) [Parameters=["@p2='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Users\" SET \"ModifiedDate\" = @p0, \"RestaurantId\" = @p1
WHERE \"Id\" = @p2;" (627a98df)
Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Users" violates foreign key constraint "FK_Users_Restaurants_RestaurantId"
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 490
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
2020-03-20T20:18:59.8436642+04:00 0HLUCT9I2UUCM:00000001 [ERR] An exception occurred in the database while saving changes for context type '"Nemo_v2_Repo.DbContexts.ApplicationContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> Npgsql.PostgresException: 23503: insert or update on table \"Users\" violates foreign key constraint \"FK_Users_Restaurants_RestaurantId\"
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 490
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> Npgsql.PostgresException: 23503: insert or update on table "Users" violates foreign key constraint "FK_Users_Restaurants_RestaurantId"
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 490
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Nemo_v2_Repo.Repositories.EFRepository`1.Update(T entity) in C:\Users\99455\Desktop\Nemo v2 Api\Nemo v2 Repo\Repositories\EFRepository.cs:line 59
2020-03-20T20:18:59.8443081+04:00 0HLUCT9I2UUCM:00000001 [ERR] 23503: insert or update on table "Users" violates foreign key constraint "FK_Users_Restaurants_RestaurantId" (c6aaa976)
2020-03-20T20:18:59.8481465+04:00 0HLUCT9I2UUCM:00000001 [INF] Executed action method "Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult" in 2212.4535ms. (50a9e262)
2020-03-20T20:18:59.8572134+04:00 0HLUCT9I2UUCM:00000001 [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2020-03-20T20:18:59.8654802+04:00 0HLUCT9I2UUCM:00000001 [INF] Executed action "Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)" in 2555.452ms (afa2e885)
2020-03-20T20:18:59.8655870+04:00 0HLUCT9I2UUCM:00000001 [INF] Executed endpoint '"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)"' (99874f2b)
2020-03-20T20:18:59.8704426+04:00 0HLUCT9I2UUCM:00000001 [INF] Request finished in 2629.7507ms 400 text/plain; charset=utf-8 (791a596a)
2020-03-20T20:18:59.8776282+04:00  [INF] Connection id ""0HLUCT9I2UUCM"", Request id ""0HLUCT9I2UUCM:00000001"": the application completed without reading the entire request body. (54ac9468)
{"@t":"2020-03-20T16:28:25.0470129Z","@m":"Request starting HTTP/1.1 PUT https://localhost:5001/api/user/update?userId=2&firstname=%22uf%22&lastname=%22Mustafayev%22&password=%221234%22&restId=2 application/json 2","@i":"ca22a1cb","Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json","ContentLength":2,"Scheme":"https","Host":"localhost:5001","PathBase":"","Path":"/api/user/update","QueryString":"?userId=2&firstname=%22uf%22&lastname=%22Mustafayev%22&password=%221234%22&restId=2","HostingRequestStartingLog":"Request starting HTTP/1.1 PUT https://localhost:5001/api/user/update?userId=2&firstname=%22uf%22&lastname=%22Mustafayev%22&password=%221234%22&restId=2 application/json 2","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLUCTER9THBS:00000001","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:25.0886358Z","@m":"Executing endpoint '\"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)\"'","@i":"500cc934","EndpointName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HLUCTER9THBS:00000001","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:25.1154443Z","@m":"Route matched with \"{action = \\\"AddUser\\\", controller = \\\"User\\\"}\". Executing controller action with signature \"Microsoft.AspNetCore.Mvc.IActionResult AddUser(Int64, System.String, System.String, System.String, Int64)\" on controller \"Nemo_v2_Api.Controllers.UserController\" (\"Nemo v2 Api\").","@i":"122b2fdf","RouteData":"{action = \"AddUser\", controller = \"User\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddUser(Int64, System.String, System.String, System.String, Int64)","Controller":"Nemo_v2_Api.Controllers.UserController","AssemblyName":"Nemo v2 Api","EventId":{"Id":3},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","RequestId":"0HLUCTER9THBS:00000001","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:25.4178895Z","@m":"Entity Framework Core \"2.2.6-servicing-10079\" initialized '\"ApplicationContext\"' using provider '\"Npgsql.EntityFrameworkCore.PostgreSQL\"' with options: \"None\"","@i":"9958f5bb","version":"2.2.6-servicing-10079","contextType":"ApplicationContext","provider":"Npgsql.EntityFrameworkCore.PostgreSQL","options":"None","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","RequestId":"0HLUCTER9THBS:00000001","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:25.4348734Z","@m":"Executing action method \"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)\" - Validation state: Valid","@i":"dad538d7","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","RequestId":"0HLUCTER9THBS:00000001","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:27.2154219Z","@m":"Executed DbCommand (\"612\"ms) [Parameters=[\"@__id_0='?' (DbType = Int64)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT s.\\\"Id\\\", s.\\\"AddedDate\\\", s.\\\"Firstame\\\", s.\\\"Lastname\\\", s.\\\"ModifiedDate\\\", s.\\\"Password\\\", s.\\\"RestaurantId\\\"\r\nFROM \\\"Users\\\" AS s\r\nWHERE s.\\\"Id\\\" = @__id_0\r\nLIMIT 2\"","@i":"0723d8ff","elapsed":"612","parameters":"@__id_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT s.\"Id\", s.\"AddedDate\", s.\"Firstame\", s.\"Lastname\", s.\"ModifiedDate\", s.\"Password\", s.\"RestaurantId\"\r\nFROM \"Users\" AS s\r\nWHERE s.\"Id\" = @__id_0\r\nLIMIT 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","RequestId":"0HLUCTER9THBS:00000001","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:27.4162126Z","@m":"Failed executing DbCommand (\"102\"ms) [Parameters=[\"@p2='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"UPDATE \\\"Users\\\" SET \\\"ModifiedDate\\\" = @p0, \\\"RestaurantId\\\" = @p1\r\nWHERE \\\"Id\\\" = @p2;\"","@i":"627a98df","@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 23503: insert or update on table \"Users\" violates foreign key constraint \"FK_Users_Restaurants_RestaurantId\"\r\n   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlConnector.cs:line 1032\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlDataReader.cs:line 490\r\n   at Npgsql.NpgsqlDataReader.NextResult() in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlDataReader.cs:line 332\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlCommand.cs:line 1218\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlCommand.cs:line 1130\r\n   at System.Data.Common.DbCommand.ExecuteReader()\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)","elapsed":"102","parameters":"@p2='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"UPDATE \"Users\" SET \"ModifiedDate\" = @p0, \"RestaurantId\" = @p1\r\nWHERE \"Id\" = @p2;","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","RequestId":"0HLUCTER9THBS:00000001","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:27.5948352Z","@m":"An exception occurred in the database while saving changes for context type '\"Nemo_v2_Repo.DbContexts.ApplicationContext\"'.\"\r\n\"\"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> Npgsql.PostgresException: 23503: insert or update on table \\\"Users\\\" violates foreign key constraint \\\"FK_Users_Restaurants_RestaurantId\\\"\r\n   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlConnector.cs:line 1032\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlDataReader.cs:line 490\r\n   at Npgsql.NpgsqlDataReader.NextResult() in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlDataReader.cs:line 332\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlCommand.cs:line 1218\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlCommand.cs:line 1130\r\n   at System.Data.Common.DbCommand.ExecuteReader()\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\\projects\\npgsql-entityframeworkcore-postgresql\\src\\EFCore.PG\\Storage\\Internal\\NpgsqlExecutionStrategy.cs:line 28\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)\"","@i":"170f029e","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> Npgsql.PostgresException: 23503: insert or update on table \"Users\" violates foreign key constraint \"FK_Users_Restaurants_RestaurantId\"\r\n   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlConnector.cs:line 1032\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlDataReader.cs:line 490\r\n   at Npgsql.NpgsqlDataReader.NextResult() in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlDataReader.cs:line 332\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlCommand.cs:line 1218\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlCommand.cs:line 1130\r\n   at System.Data.Common.DbCommand.ExecuteReader()\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\\projects\\npgsql-entityframeworkcore-postgresql\\src\\EFCore.PG\\Storage\\Internal\\NpgsqlExecutionStrategy.cs:line 28\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()\r\n   at Nemo_v2_Repo.Repositories.EFRepository`1.Update(T entity) in C:\\Users\\99455\\Desktop\\Nemo v2 Api\\Nemo v2 Repo\\Repositories\\EFRepository.cs:line 59","contextType":"Nemo_v2_Repo.DbContexts.ApplicationContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> Npgsql.PostgresException: 23503: insert or update on table \"Users\" violates foreign key constraint \"FK_Users_Restaurants_RestaurantId\"\r\n   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlConnector.cs:line 1032\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlDataReader.cs:line 490\r\n   at Npgsql.NpgsqlDataReader.NextResult() in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlDataReader.cs:line 332\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlCommand.cs:line 1218\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlCommand.cs:line 1130\r\n   at System.Data.Common.DbCommand.ExecuteReader()\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\\projects\\npgsql-entityframeworkcore-postgresql\\src\\EFCore.PG\\Storage\\Internal\\NpgsqlExecutionStrategy.cs:line 28\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","RequestId":"0HLUCTER9THBS:00000001","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:27.5951808Z","@m":"23503: insert or update on table \"Users\" violates foreign key constraint \"FK_Users_Restaurants_RestaurantId\"","@i":"c6aaa976","@l":"Error","SourceContext":"Nemo_v2_Api.Controllers.UserController","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","RequestId":"0HLUCTER9THBS:00000001","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:27.5977910Z","@m":"Executed action method \"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)\", returned result \"Microsoft.AspNetCore.Mvc.BadRequestObjectResult\" in 2160.3227ms.","@i":"50a9e262","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":2160.3227,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","RequestId":"0HLUCTER9THBS:00000001","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:27.6050705Z","@m":"Executing ObjectResult, writing value of type '\"System.String\"'.","@i":"8a1b66c8","Type":"System.String","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","RequestId":"0HLUCTER9THBS:00000001","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:27.6120472Z","@m":"Executed action \"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)\" in 2493.9326ms","@i":"afa2e885","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","ElapsedMilliseconds":2493.9326,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","RequestId":"0HLUCTER9THBS:00000001","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:27.6121465Z","@m":"Executed endpoint '\"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)\"'","@i":"99874f2b","EndpointName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HLUCTER9THBS:00000001","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:27.6155646Z","@m":"Request finished in 2579.5808ms 400 text/plain; charset=utf-8","@i":"791a596a","ElapsedMilliseconds":2579.5808,"StatusCode":400,"ContentType":"text/plain; charset=utf-8","HostingRequestFinishedLog":"Request finished in 2579.5808ms 400 text/plain; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLUCTER9THBS:00000001","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:27.6218872Z","@m":"Connection id \"\"0HLUCTER9THBS\"\", Request id \"\"0HLUCTER9THBS:00000001\"\": the application completed without reading the entire request body.","@i":"54ac9468","ConnectionId":"0HLUCTER9THBS","TraceIdentifier":"0HLUCTER9THBS:00000001","EventId":{"Id":32,"Name":"RequestBodyNotEntirelyRead"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel"}
{"@t":"2020-03-20T16:28:33.6284371Z","@m":"Request starting HTTP/1.1 PUT https://localhost:5001/api/user/update?userId=2&firstname=%22uf%22&lastname=%22Mustafayev%22&password=%221234%22&restId=2 application/json 2","@i":"ca22a1cb","Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json","ContentLength":2,"Scheme":"https","Host":"localhost:5001","PathBase":"","Path":"/api/user/update","QueryString":"?userId=2&firstname=%22uf%22&lastname=%22Mustafayev%22&password=%221234%22&restId=2","HostingRequestStartingLog":"Request starting HTTP/1.1 PUT https://localhost:5001/api/user/update?userId=2&firstname=%22uf%22&lastname=%22Mustafayev%22&password=%221234%22&restId=2 application/json 2","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLUCTER9THBS:00000002","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:33.6306018Z","@m":"Executing endpoint '\"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)\"'","@i":"500cc934","EndpointName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HLUCTER9THBS:00000002","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:33.6308917Z","@m":"Route matched with \"{action = \\\"AddUser\\\", controller = \\\"User\\\"}\". Executing controller action with signature \"Microsoft.AspNetCore.Mvc.IActionResult AddUser(Int64, System.String, System.String, System.String, Int64)\" on controller \"Nemo_v2_Api.Controllers.UserController\" (\"Nemo v2 Api\").","@i":"122b2fdf","RouteData":"{action = \"AddUser\", controller = \"User\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.IActionResult AddUser(Int64, System.String, System.String, System.String, Int64)","Controller":"Nemo_v2_Api.Controllers.UserController","AssemblyName":"Nemo v2 Api","EventId":{"Id":3},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","RequestId":"0HLUCTER9THBS:00000002","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:33.6319489Z","@m":"Entity Framework Core \"2.2.6-servicing-10079\" initialized '\"ApplicationContext\"' using provider '\"Npgsql.EntityFrameworkCore.PostgreSQL\"' with options: \"None\"","@i":"9958f5bb","version":"2.2.6-servicing-10079","contextType":"ApplicationContext","provider":"Npgsql.EntityFrameworkCore.PostgreSQL","options":"None","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","RequestId":"0HLUCTER9THBS:00000002","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:33.6328899Z","@m":"Executing action method \"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)\" - Validation state: Valid","@i":"dad538d7","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","ValidationState":"Valid","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","RequestId":"0HLUCTER9THBS:00000002","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:33.7448576Z","@m":"Executed DbCommand (\"110\"ms) [Parameters=[\"@__id_0='?' (DbType = Int64)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT s.\\\"Id\\\", s.\\\"AddedDate\\\", s.\\\"Firstame\\\", s.\\\"Lastname\\\", s.\\\"ModifiedDate\\\", s.\\\"Password\\\", s.\\\"RestaurantId\\\"\r\nFROM \\\"Users\\\" AS s\r\nWHERE s.\\\"Id\\\" = @__id_0\r\nLIMIT 2\"","@i":"0723d8ff","elapsed":"110","parameters":"@__id_0='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT s.\"Id\", s.\"AddedDate\", s.\"Firstame\", s.\"Lastname\", s.\"ModifiedDate\", s.\"Password\", s.\"RestaurantId\"\r\nFROM \"Users\" AS s\r\nWHERE s.\"Id\" = @__id_0\r\nLIMIT 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","RequestId":"0HLUCTER9THBS:00000002","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:33.9043003Z","@m":"Failed executing DbCommand (\"158\"ms) [Parameters=[\"@p2='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"UPDATE \\\"Users\\\" SET \\\"ModifiedDate\\\" = @p0, \\\"RestaurantId\\\" = @p1\r\nWHERE \\\"Id\\\" = @p2;\"","@i":"627a98df","@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 23503: insert or update on table \"Users\" violates foreign key constraint \"FK_Users_Restaurants_RestaurantId\"\r\n   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlConnector.cs:line 1032\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlDataReader.cs:line 490\r\n   at Npgsql.NpgsqlDataReader.NextResult() in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlDataReader.cs:line 332\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlCommand.cs:line 1218\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlCommand.cs:line 1130\r\n   at System.Data.Common.DbCommand.ExecuteReader()\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)","elapsed":"158","parameters":"@p2='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"UPDATE \"Users\" SET \"ModifiedDate\" = @p0, \"RestaurantId\" = @p1\r\nWHERE \"Id\" = @p2;","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","RequestId":"0HLUCTER9THBS:00000002","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:33.9958695Z","@m":"An exception occurred in the database while saving changes for context type '\"Nemo_v2_Repo.DbContexts.ApplicationContext\"'.\"\r\n\"\"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> Npgsql.PostgresException: 23503: insert or update on table \\\"Users\\\" violates foreign key constraint \\\"FK_Users_Restaurants_RestaurantId\\\"\r\n   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlConnector.cs:line 1032\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlDataReader.cs:line 490\r\n   at Npgsql.NpgsqlDataReader.NextResult() in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlDataReader.cs:line 332\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlCommand.cs:line 1218\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlCommand.cs:line 1130\r\n   at System.Data.Common.DbCommand.ExecuteReader()\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\\projects\\npgsql-entityframeworkcore-postgresql\\src\\EFCore.PG\\Storage\\Internal\\NpgsqlExecutionStrategy.cs:line 28\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)\"","@i":"170f029e","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> Npgsql.PostgresException: 23503: insert or update on table \"Users\" violates foreign key constraint \"FK_Users_Restaurants_RestaurantId\"\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\\projects\\npgsql-entityframeworkcore-postgresql\\src\\EFCore.PG\\Storage\\Internal\\NpgsqlExecutionStrategy.cs:line 28\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()\r\n   at Nemo_v2_Repo.Repositories.EFRepository`1.Update(T entity) in C:\\Users\\99455\\Desktop\\Nemo v2 Api\\Nemo v2 Repo\\Repositories\\EFRepository.cs:line 59","contextType":"Nemo_v2_Repo.DbContexts.ApplicationContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> Npgsql.PostgresException: 23503: insert or update on table \"Users\" violates foreign key constraint \"FK_Users_Restaurants_RestaurantId\"\r\n   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlConnector.cs:line 1032\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlDataReader.cs:line 490\r\n   at Npgsql.NpgsqlDataReader.NextResult() in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlDataReader.cs:line 332\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlCommand.cs:line 1218\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\\projects\\npgsql\\src\\Npgsql\\NpgsqlCommand.cs:line 1130\r\n   at System.Data.Common.DbCommand.ExecuteReader()\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\\projects\\npgsql-entityframeworkcore-postgresql\\src\\EFCore.PG\\Storage\\Internal\\NpgsqlExecutionStrategy.cs:line 28\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","RequestId":"0HLUCTER9THBS:00000002","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:33.9962247Z","@m":"23503: insert or update on table \"Users\" violates foreign key constraint \"FK_Users_Restaurants_RestaurantId\"","@i":"c6aaa976","@l":"Error","SourceContext":"Nemo_v2_Api.Controllers.UserController","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","RequestId":"0HLUCTER9THBS:00000002","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:33.9963275Z","@m":"Executed action method \"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)\", returned result \"Microsoft.AspNetCore.Mvc.BadRequestObjectResult\" in 363.3421ms.","@i":"50a9e262","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":363.3421,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","RequestId":"0HLUCTER9THBS:00000002","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:33.9966364Z","@m":"Executing ObjectResult, writing value of type '\"System.String\"'.","@i":"8a1b66c8","Type":"System.String","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","RequestId":"0HLUCTER9THBS:00000002","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:33.9969928Z","@m":"Executed action \"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)\" in 366.0437ms","@i":"afa2e885","ActionName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","ElapsedMilliseconds":366.0437,"EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker","ActionId":"17bfdb9e-ae53-4177-a638-c5a5d48ee901","RequestId":"0HLUCTER9THBS:00000002","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:33.9970610Z","@m":"Executed endpoint '\"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)\"'","@i":"99874f2b","EndpointName":"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HLUCTER9THBS:00000002","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:33.9972403Z","@m":"Request finished in 368.927ms 400 text/plain; charset=utf-8","@i":"791a596a","ElapsedMilliseconds":368.927,"StatusCode":400,"ContentType":"text/plain; charset=utf-8","HostingRequestFinishedLog":"Request finished in 368.927ms 400 text/plain; charset=utf-8","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Internal.WebHost","RequestId":"0HLUCTER9THBS:00000002","RequestPath":"/api/user/update","CorrelationId":null,"ConnectionId":"0HLUCTER9THBS"}
{"@t":"2020-03-20T16:28:33.9974779Z","@m":"Connection id \"\"0HLUCTER9THBS\"\", Request id \"\"0HLUCTER9THBS:00000002\"\": the application completed without reading the entire request body.","@i":"54ac9468","ConnectionId":"0HLUCTER9THBS","TraceIdentifier":"0HLUCTER9THBS:00000002","EventId":{"Id":32,"Name":"RequestBodyNotEntirelyRead"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel"}
2020-03-20T20:30:57.9842311+04:00 0HLUCTG8SE4J4:00000001 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/user/update?userId=2&firstname=%22uf%22&lastname=%22Mustafayev%22&password=%221234%22&restId=2 application/json 2 (ca22a1cb)
2020-03-20T20:30:58.0351646+04:00 0HLUCTG8SE4J4:00000001 [INF] Executing endpoint '"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)"' (500cc934)
2020-03-20T20:30:58.0558328+04:00 0HLUCTG8SE4J4:00000001 [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddUser(Int64, System.String, System.String, System.String, Int64)" on controller "Nemo_v2_Api.Controllers.UserController" ("Nemo v2 Api"). (122b2fdf)
2020-03-20T20:30:58.3783198+04:00 0HLUCTG8SE4J4:00000001 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "None" (9958f5bb)
2020-03-20T20:30:58.3942719+04:00 0HLUCTG8SE4J4:00000001 [INF] Executing action method "Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)" - Validation state: Valid (dad538d7)
2020-03-20T20:31:00.1452530+04:00 0HLUCTG8SE4J4:00000001 [INF] Executed DbCommand ("203"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"AddedDate\", s.\"Firstame\", s.\"Lastname\", s.\"ModifiedDate\", s.\"Password\", s.\"RestaurantId\"
FROM \"Users\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 2" (0723d8ff)
2020-03-20T20:31:00.6129569+04:00 0HLUCTG8SE4J4:00000001 [ERR] Failed executing DbCommand ("373"ms) [Parameters=["@p2='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Users\" SET \"ModifiedDate\" = @p0, \"RestaurantId\" = @p1
WHERE \"Id\" = @p2;" (627a98df)
Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Users" violates foreign key constraint "FK_Users_Restaurants_RestaurantId"
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 490
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
2020-03-20T20:31:00.7932741+04:00 0HLUCTG8SE4J4:00000001 [ERR] An exception occurred in the database while saving changes for context type '"Nemo_v2_Repo.DbContexts.ApplicationContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> Npgsql.PostgresException: 23503: insert or update on table \"Users\" violates foreign key constraint \"FK_Users_Restaurants_RestaurantId\"
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 490
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> Npgsql.PostgresException: 23503: insert or update on table "Users" violates foreign key constraint "FK_Users_Restaurants_RestaurantId"
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 490
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Nemo_v2_Repo.Repositories.EFRepository`1.Update(T entity) in C:\Users\99455\Desktop\Nemo v2 Api\Nemo v2 Repo\Repositories\EFRepository.cs:line 59
2020-03-20T20:31:00.7936799+04:00 0HLUCTG8SE4J4:00000001 [ERR] 23503: insert or update on table "Users" violates foreign key constraint "FK_Users_Restaurants_RestaurantId" (c6aaa976)
2020-03-20T20:31:00.7968408+04:00 0HLUCTG8SE4J4:00000001 [INF] Executed action method "Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult" in 2399.5702ms. (50a9e262)
2020-03-20T20:31:00.8024127+04:00 0HLUCTG8SE4J4:00000001 [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2020-03-20T20:31:00.8081899+04:00 0HLUCTG8SE4J4:00000001 [INF] Executed action "Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)" in 2750.0648ms (afa2e885)
2020-03-20T20:31:00.8083104+04:00 0HLUCTG8SE4J4:00000001 [INF] Executed endpoint '"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)"' (99874f2b)
2020-03-20T20:31:00.8123002+04:00 0HLUCTG8SE4J4:00000001 [INF] Request finished in 2831.753ms 400 text/plain; charset=utf-8 (791a596a)
2020-03-20T20:31:00.8181932+04:00  [INF] Connection id ""0HLUCTG8SE4J4"", Request id ""0HLUCTG8SE4J4:00000001"": the application completed without reading the entire request body. (54ac9468)
2020-03-20T20:31:50.6639371+04:00 0HLUCTGOITD80:00000001 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/user/update?userId=2&firstname=%22uf%22&lastname=%22Mustafayev%22&password=%221234%22&restId=2 application/json 2 (ca22a1cb)
2020-03-20T20:31:50.7054940+04:00 0HLUCTGOITD80:00000001 [INF] Executing endpoint '"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)"' (500cc934)
2020-03-20T20:31:50.7275494+04:00 0HLUCTGOITD80:00000001 [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddUser(Int64, System.String, System.String, System.String, Int64)" on controller "Nemo_v2_Api.Controllers.UserController" ("Nemo v2 Api"). (122b2fdf)
2020-03-20T20:31:51.0227273+04:00 0HLUCTGOITD80:00000001 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "None" (9958f5bb)
2020-03-20T20:31:51.0430705+04:00 0HLUCTGOITD80:00000001 [INF] Executing action method "Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)" - Validation state: Valid (dad538d7)
2020-03-20T20:31:52.6746449+04:00 0HLUCTGOITD80:00000001 [INF] Executed DbCommand ("216"ms) [Parameters=["@__id_0='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"AddedDate\", s.\"Firstame\", s.\"Lastname\", s.\"ModifiedDate\", s.\"Password\", s.\"RestaurantId\"
FROM \"Users\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 2" (0723d8ff)
2020-03-20T20:31:52.9771848+04:00 0HLUCTGOITD80:00000001 [ERR] Failed executing DbCommand ("207"ms) [Parameters=["@p2='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Users\" SET \"ModifiedDate\" = @p0, \"RestaurantId\" = @p1
WHERE \"Id\" = @p2;" (627a98df)
Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Users" violates foreign key constraint "FK_Users_Restaurants_RestaurantId"
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 490
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
2020-03-20T20:31:53.0780952+04:00 0HLUCTGOITD80:00000001 [ERR] An exception occurred in the database while saving changes for context type '"Nemo_v2_Repo.DbContexts.ApplicationContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> Npgsql.PostgresException: 23503: insert or update on table \"Users\" violates foreign key constraint \"FK_Users_Restaurants_RestaurantId\"
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 490
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> Npgsql.PostgresException: 23503: insert or update on table "Users" violates foreign key constraint "FK_Users_Restaurants_RestaurantId"
   at Nemo_v2_Service.Services.UserService.UpdateUser(User user) in C:\Users\99455\Desktop\Nemo v2 Api\Nemo v2 Service\Services\UserService.cs:line 46
   at Nemo_v2_Api.Controllers.UserController.AddUser(Int64 userId, String firstname, String lastname, String password, Int64 restId) in C:\Users\99455\Desktop\Nemo v2 Api\Nemo v2 Api\Controllers\UserController.cs:line 62
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at Nemo_v2_Repo.Repositories.EFRepository`1.Update(T entity) in C:\Users\99455\Desktop\Nemo v2 Api\Nemo v2 Repo\Repositories\EFRepository.cs:line 59
2020-03-20T20:31:53.0785860+04:00 0HLUCTGOITD80:00000001 [ERR] 23503: insert or update on table "Users" violates foreign key constraint "FK_Users_Restaurants_RestaurantId" (c6aaa976)
2020-03-20T20:31:53.0824999+04:00 0HLUCTGOITD80:00000001 [INF] Executed action method "Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult" in 2035.5301ms. (50a9e262)
2020-03-20T20:31:53.0876779+04:00 0HLUCTGOITD80:00000001 [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2020-03-20T20:31:53.0925465+04:00 0HLUCTGOITD80:00000001 [INF] Executed action "Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)" in 2362.9363ms (afa2e885)
2020-03-20T20:31:53.0926316+04:00 0HLUCTGOITD80:00000001 [INF] Executed endpoint '"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)"' (99874f2b)
2020-03-20T20:31:53.0957520+04:00 0HLUCTGOITD80:00000001 [INF] Request finished in 2436.2773ms 400 text/plain; charset=utf-8 (791a596a)
2020-03-20T20:31:53.0999640+04:00  [INF] Connection id ""0HLUCTGOITD80"", Request id ""0HLUCTGOITD80:00000001"": the application completed without reading the entire request body. (54ac9468)
2020-03-20T20:33:41.7686009+04:00 0HLUCTHPMGSSD:00000001 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/user/update?userId=2&firstname=%22uf%22&lastname=%22Mustafayev%22&password=%221234%22&restId=2 application/json 2 (ca22a1cb)
2020-03-20T20:33:41.8083592+04:00 0HLUCTHPMGSSD:00000001 [INF] Executing endpoint '"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)"' (500cc934)
2020-03-20T20:33:41.8315075+04:00 0HLUCTHPMGSSD:00000001 [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddUser(Int64, System.String, System.String, System.String, Int64)" on controller "Nemo_v2_Api.Controllers.UserController" ("Nemo v2 Api"). (122b2fdf)
2020-03-20T20:33:42.1512544+04:00 0HLUCTHPMGSSD:00000001 [INF] Entity Framework Core "2.2.6-servicing-10079" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "None" (9958f5bb)
2020-03-20T20:33:42.1680124+04:00 0HLUCTHPMGSSD:00000001 [INF] Executing action method "Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)" - Validation state: Valid (dad538d7)
2020-03-20T20:33:57.1068930+04:00 0HLUCTHPMGSSD:00000001 [ERR] An error occurred using the connection to database '"NemoV2"' on server '"tcp://188.166.164.27:5432"'. (5fc3407c)
Npgsql.NpgsqlException (0x80004005): Exception while reading from stream ---> System.IO.IOException: Unable to read data from the transport connection: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. ---> System.Net.Sockets.SocketException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   at Npgsql.NpgsqlReadBuffer.<>c__DisplayClass31_0.<<Ensure>g__EnsureLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlReadBuffer.cs:line 154
   at Npgsql.NpgsqlReadBuffer.<>c__DisplayClass31_0.<<Ensure>g__EnsureLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlReadBuffer.cs:line 175
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 955
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Npgsql.PostgresDatabaseInfo.LoadBackendTypes(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\PostgresDatabaseInfo.cs:line 212
   at Npgsql.PostgresDatabaseInfo.LoadPostgresInfo(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\PostgresDatabaseInfo.cs:line 109
   at Npgsql.PostgresDatabaseInfoFactory.Load(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\PostgresDatabaseInfo.cs:line 49
   at Npgsql.NpgsqlDatabaseInfo.Load(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\NpgsqlDatabaseInfo.cs:line 251
   at Npgsql.NpgsqlConnector.LoadDatabaseInfo(NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 466
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 438
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\ConnectorPool.cs:line 246
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnection.cs:line 301
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open() in C:\projects\npgsql\src\Npgsql\NpgsqlConnection.cs:line 153
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
2020-03-20T20:33:57.1163171+04:00 0HLUCTHPMGSSD:00000001 [ERR] An exception occurred while iterating over the results of a query for context type '"Nemo_v2_Repo.DbContexts.ApplicationContext"'."
""System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. ---> Npgsql.NpgsqlException: Exception while reading from stream ---> System.IO.IOException: Unable to read data from the transport connection: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. ---> System.Net.Sockets.SocketException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   at Npgsql.NpgsqlReadBuffer.<>c__DisplayClass31_0.<<Ensure>g__EnsureLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlReadBuffer.cs:line 154
   --- End of inner exception stack trace ---
   at Npgsql.NpgsqlReadBuffer.<>c__DisplayClass31_0.<<Ensure>g__EnsureLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlReadBuffer.cs:line 175
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 955
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Npgsql.PostgresDatabaseInfo.LoadBackendTypes(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\PostgresDatabaseInfo.cs:line 212
   at Npgsql.PostgresDatabaseInfo.LoadPostgresInfo(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\PostgresDatabaseInfo.cs:line 109
   at Npgsql.PostgresDatabaseInfoFactory.Load(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\PostgresDatabaseInfo.cs:line 49
   at Npgsql.NpgsqlDatabaseInfo.Load(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\NpgsqlDatabaseInfo.cs:line 251
   at Npgsql.NpgsqlConnector.LoadDatabaseInfo(NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 466
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 438
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\ConnectorPool.cs:line 246
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnection.cs:line 301
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open() in C:\projects\npgsql\src\Npgsql\NpgsqlConnection.cs:line 153
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 37
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()" (f5c7ac34)
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. ---> Npgsql.NpgsqlException: Exception while reading from stream ---> System.IO.IOException: Unable to read data from the transport connection: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. ---> System.Net.Sockets.SocketException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   at Npgsql.NpgsqlReadBuffer.<>c__DisplayClass31_0.<<Ensure>g__EnsureLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlReadBuffer.cs:line 154
   --- End of inner exception stack trace ---
   at Npgsql.NpgsqlReadBuffer.<>c__DisplayClass31_0.<<Ensure>g__EnsureLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlReadBuffer.cs:line 175
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 955
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Npgsql.PostgresDatabaseInfo.LoadBackendTypes(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\PostgresDatabaseInfo.cs:line 212
   at Npgsql.PostgresDatabaseInfo.LoadPostgresInfo(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\PostgresDatabaseInfo.cs:line 109
   at Npgsql.PostgresDatabaseInfoFactory.Load(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\PostgresDatabaseInfo.cs:line 49
   at Npgsql.NpgsqlDatabaseInfo.Load(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\NpgsqlDatabaseInfo.cs:line 251
   at Npgsql.NpgsqlConnector.LoadDatabaseInfo(NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 466
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 438
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\ConnectorPool.cs:line 246
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnection.cs:line 301
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open() in C:\projects\npgsql\src\Npgsql\NpgsqlConnection.cs:line 153
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 37
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2020-03-20T20:33:57.1211152+04:00 0HLUCTHPMGSSD:00000001 [ERR] An exception occurred while iterating over the results of a query for context type '"Nemo_v2_Repo.DbContexts.ApplicationContext"'."
""System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. ---> Npgsql.NpgsqlException: Exception while reading from stream ---> System.IO.IOException: Unable to read data from the transport connection: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. ---> System.Net.Sockets.SocketException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   at Npgsql.NpgsqlReadBuffer.<>c__DisplayClass31_0.<<Ensure>g__EnsureLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlReadBuffer.cs:line 154
   --- End of inner exception stack trace ---
   at Npgsql.NpgsqlReadBuffer.<>c__DisplayClass31_0.<<Ensure>g__EnsureLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlReadBuffer.cs:line 175
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 955
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Npgsql.PostgresDatabaseInfo.LoadBackendTypes(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\PostgresDatabaseInfo.cs:line 212
   at Npgsql.PostgresDatabaseInfo.LoadPostgresInfo(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\PostgresDatabaseInfo.cs:line 109
   at Npgsql.PostgresDatabaseInfoFactory.Load(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\PostgresDatabaseInfo.cs:line 49
   at Npgsql.NpgsqlDatabaseInfo.Load(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\NpgsqlDatabaseInfo.cs:line 251
   at Npgsql.NpgsqlConnector.LoadDatabaseInfo(NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 466
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 438
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\ConnectorPool.cs:line 246
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnection.cs:line 301
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open() in C:\projects\npgsql\src\Npgsql\NpgsqlConnection.cs:line 153
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 37
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)" (f5c7ac34)
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. ---> Npgsql.NpgsqlException: Exception while reading from stream ---> System.IO.IOException: Unable to read data from the transport connection: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. ---> System.Net.Sockets.SocketException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   at Npgsql.NpgsqlReadBuffer.<>c__DisplayClass31_0.<<Ensure>g__EnsureLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlReadBuffer.cs:line 154
   --- End of inner exception stack trace ---
   at Npgsql.NpgsqlReadBuffer.<>c__DisplayClass31_0.<<Ensure>g__EnsureLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlReadBuffer.cs:line 175
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 955
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Npgsql.PostgresDatabaseInfo.LoadBackendTypes(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\PostgresDatabaseInfo.cs:line 212
   at Npgsql.PostgresDatabaseInfo.LoadPostgresInfo(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\PostgresDatabaseInfo.cs:line 109
   at Npgsql.PostgresDatabaseInfoFactory.Load(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\PostgresDatabaseInfo.cs:line 49
   at Npgsql.NpgsqlDatabaseInfo.Load(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\NpgsqlDatabaseInfo.cs:line 251
   at Npgsql.NpgsqlConnector.LoadDatabaseInfo(NpgsqlTimeout timeout, Boolean async) in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 466
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 438
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\ConnectorPool.cs:line 246
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnection.cs:line 301
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open() in C:\projects\npgsql\src\Npgsql\NpgsqlConnection.cs:line 153
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 37
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.SingleOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)
   at Nemo_v2_Repo.Repositories.EFRepository`1.Get(Int64 id) in C:\Users\99455\Desktop\Nemo v2 Api\Nemo v2 Repo\Repositories\EFRepository.cs:line 29
   at Nemo_v2_Service.Services.UserService.GetUser(Int64 id) in C:\Users\99455\Desktop\Nemo v2 Api\Nemo v2 Service\Services\UserService.cs:line 31
   at Nemo_v2_Api.Controllers.UserController.AddUser(Int64 userId, String firstname, String lastname, String password, Int64 restId) in C:\Users\99455\Desktop\Nemo v2 Api\Nemo v2 Api\Controllers\UserController.cs:line 56
2020-03-20T20:33:57.1213920+04:00 0HLUCTHPMGSSD:00000001 [ERR] An exception has been raised that is likely due to a transient failure. (0c30b9c3)
2020-03-20T20:33:57.1239727+04:00 0HLUCTHPMGSSD:00000001 [INF] Executed action method "Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult" in 14953.4129ms. (50a9e262)
2020-03-20T20:33:57.1305157+04:00 0HLUCTHPMGSSD:00000001 [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2020-03-20T20:33:57.1360998+04:00 0HLUCTHPMGSSD:00000001 [INF] Executed action "Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)" in 15301.9681ms (afa2e885)
2020-03-20T20:33:57.1362801+04:00 0HLUCTHPMGSSD:00000001 [INF] Executed endpoint '"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)"' (99874f2b)
2020-03-20T20:33:57.1397750+04:00 0HLUCTHPMGSSD:00000001 [INF] Request finished in 15374.9254ms 400 text/plain; charset=utf-8 (791a596a)
2020-03-20T20:33:57.1461336+04:00  [INF] Connection id ""0HLUCTHPMGSSD"", Request id ""0HLUCTHPMGSSD:00000001"": the application completed without reading the entire request body. (54ac9468)
2020-03-20T20:37:51.5515419+04:00 0HLUCTK44C8DS:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html   (ca22a1cb)
2020-03-20T20:37:51.6850793+04:00 0HLUCTK44C8DS:00000001 [INF] Request finished in 136.8485ms 200 text/html;charset=utf-8 (791a596a)
2020-03-20T20:37:51.6880865+04:00 0HLUCTK44C8DS:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css   (ca22a1cb)
2020-03-20T20:37:51.6880970+04:00 0HLUCTK44C8DT:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js   (ca22a1cb)
2020-03-20T20:37:51.6881131+04:00 0HLUCTK44C8DR:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js   (ca22a1cb)
2020-03-20T20:37:51.6929096+04:00 0HLUCTK44C8DT:00000001 [INF] The file "/swagger-ui-bundle.js" was not modified (f1f8d725)
2020-03-20T20:37:51.6929096+04:00 0HLUCTK44C8DS:00000002 [INF] The file "/swagger-ui.css" was not modified (f1f8d725)
2020-03-20T20:37:51.6929170+04:00 0HLUCTK44C8DR:00000001 [INF] The file "/swagger-ui-standalone-preset.js" was not modified (f1f8d725)
2020-03-20T20:37:51.6947344+04:00 0HLUCTK44C8DR:00000001 [INF] Request finished in 6.6414ms 304 application/javascript (791a596a)
2020-03-20T20:37:51.6947369+04:00 0HLUCTK44C8DT:00000001 [INF] Request finished in 6.6427ms 304 application/javascript (791a596a)
2020-03-20T20:37:51.6947335+04:00 0HLUCTK44C8DS:00000002 [INF] Request finished in 6.6412ms 304 text/css (791a596a)
2020-03-20T20:37:51.9289952+04:00 0HLUCTK44C8DT:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json   (ca22a1cb)
2020-03-20T20:37:52.0204538+04:00 0HLUCTK44C8DT:00000002 [INF] Request finished in 91.4507ms 200 application/json;charset=utf-8 (791a596a)
2020-03-20T20:37:53.4581021+04:00 0HLUCTK44C8DT:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html   (ca22a1cb)
2020-03-20T20:37:53.4584501+04:00 0HLUCTK44C8DT:00000003 [INF] Request finished in 0.3588ms 200 text/html;charset=utf-8 (791a596a)
2020-03-20T20:37:53.4613485+04:00 0HLUCTK44C8DT:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css   (ca22a1cb)
2020-03-20T20:37:53.4614553+04:00 0HLUCTK44C8DR:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js   (ca22a1cb)
2020-03-20T20:37:53.4614700+04:00 0HLUCTK44C8DS:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js   (ca22a1cb)
2020-03-20T20:37:53.4615953+04:00 0HLUCTK44C8DR:00000002 [INF] The file "/swagger-ui-standalone-preset.js" was not modified (f1f8d725)
2020-03-20T20:37:53.4615948+04:00 0HLUCTK44C8DS:00000003 [INF] The file "/swagger-ui-bundle.js" was not modified (f1f8d725)
2020-03-20T20:37:53.4615948+04:00 0HLUCTK44C8DT:00000004 [INF] The file "/swagger-ui.css" was not modified (f1f8d725)
2020-03-20T20:37:53.4616894+04:00 0HLUCTK44C8DT:00000004 [INF] Request finished in 0.4027ms 304 text/css (791a596a)
2020-03-20T20:37:53.4616894+04:00 0HLUCTK44C8DS:00000003 [INF] Request finished in 0.2354ms 304 application/javascript (791a596a)
2020-03-20T20:37:53.4617660+04:00 0HLUCTK44C8DR:00000002 [INF] Request finished in 0.2391ms 304 application/javascript (791a596a)
2020-03-20T20:37:53.6575276+04:00 0HLUCTK44C8DR:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json   (ca22a1cb)
2020-03-20T20:37:53.6587684+04:00 0HLUCTK44C8DR:00000003 [INF] Request finished in 1.2712ms 200 application/json;charset=utf-8 (791a596a)
2020-03-20T20:37:54.7095598+04:00 0HLUCTK44C8DR:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html   (ca22a1cb)
2020-03-20T20:37:54.7097887+04:00 0HLUCTK44C8DR:00000004 [INF] Request finished in 0.2517ms 200 text/html;charset=utf-8 (791a596a)
2020-03-20T20:37:54.7127037+04:00 0HLUCTK44C8DR:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css   (ca22a1cb)
2020-03-20T20:37:54.7127037+04:00 0HLUCTK44C8DS:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js   (ca22a1cb)
2020-03-20T20:37:54.7127306+04:00 0HLUCTK44C8DT:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js   (ca22a1cb)
2020-03-20T20:37:54.7128499+04:00 0HLUCTK44C8DS:00000004 [INF] The file "/swagger-ui-standalone-preset.js" was not modified (f1f8d725)
2020-03-20T20:37:54.7128557+04:00 0HLUCTK44C8DR:00000005 [INF] The file "/swagger-ui.css" was not modified (f1f8d725)
2020-03-20T20:37:54.7128567+04:00 0HLUCTK44C8DT:00000005 [INF] The file "/swagger-ui-bundle.js" was not modified (f1f8d725)
2020-03-20T20:37:54.7129637+04:00 0HLUCTK44C8DR:00000005 [INF] Request finished in 0.2641ms 304 text/css (791a596a)
2020-03-20T20:37:54.7129695+04:00 0HLUCTK44C8DS:00000004 [INF] Request finished in 0.2539ms 304 application/javascript (791a596a)
2020-03-20T20:37:54.7129639+04:00 0HLUCTK44C8DT:00000005 [INF] Request finished in 0.2642ms 304 application/javascript (791a596a)
2020-03-20T20:37:54.9167270+04:00 0HLUCTK44C8DT:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json   (ca22a1cb)
2020-03-20T20:37:54.9178819+04:00 0HLUCTK44C8DT:00000006 [INF] Request finished in 1.1327ms 200 application/json;charset=utf-8 (791a596a)
2020-03-20T20:37:55.9236663+04:00 0HLUCTK44C8DT:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html   (ca22a1cb)
2020-03-20T20:37:55.9238838+04:00 0HLUCTK44C8DT:00000007 [INF] Request finished in 0.2351ms 200 text/html;charset=utf-8 (791a596a)
2020-03-20T20:37:55.9264085+04:00 0HLUCTK44C8DR:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css   (ca22a1cb)
2020-03-20T20:37:55.9264124+04:00 0HLUCTK44C8DS:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js   (ca22a1cb)
2020-03-20T20:37:55.9264066+04:00 0HLUCTK44C8DT:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js   (ca22a1cb)
2020-03-20T20:37:55.9265102+04:00 0HLUCTK44C8DS:00000005 [INF] The file "/swagger-ui-bundle.js" was not modified (f1f8d725)
2020-03-20T20:37:55.9265125+04:00 0HLUCTK44C8DR:00000006 [INF] The file "/swagger-ui.css" was not modified (f1f8d725)
2020-03-20T20:37:55.9265156+04:00 0HLUCTK44C8DT:00000008 [INF] The file "/swagger-ui-standalone-preset.js" was not modified (f1f8d725)
2020-03-20T20:37:55.9265730+04:00 0HLUCTK44C8DT:00000008 [INF] Request finished in 0.1848ms 304 application/javascript (791a596a)
2020-03-20T20:37:55.9265728+04:00 0HLUCTK44C8DS:00000005 [INF] Request finished in 0.1835ms 304 application/javascript (791a596a)
2020-03-20T20:37:55.9265840+04:00 0HLUCTK44C8DR:00000006 [INF] Request finished in 0.1816ms 304 text/css (791a596a)
2020-03-20T20:37:56.1233585+04:00 0HLUCTK44C8DR:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json   (ca22a1cb)
2020-03-20T20:37:56.1243630+04:00 0HLUCTK44C8DR:00000007 [INF] Request finished in 1.0302ms 200 application/json;charset=utf-8 (791a596a)
2020-03-20T20:37:58.1090913+04:00 0HLUCTK44C8DR:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html   (ca22a1cb)
2020-03-20T20:37:58.1094750+04:00 0HLUCTK44C8DR:00000008 [INF] Request finished in 0.4188ms 200 text/html;charset=utf-8 (791a596a)
2020-03-20T20:37:58.3656169+04:00 0HLUCTK44C8DR:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json   (ca22a1cb)
2020-03-20T20:37:58.3667210+04:00 0HLUCTK44C8DR:00000009 [INF] Request finished in 1.1317ms 200 application/json;charset=utf-8 (791a596a)
2020-03-20T20:39:19.2125032+04:00 0HLUCTK44C8DV:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger.json   (ca22a1cb)
2020-03-20T20:39:19.2128258+04:00 0HLUCTK44C8DV:00000001 [INF] Request finished in 0.3389ms 404  (791a596a)
2020-03-20T20:39:24.1052132+04:00 0HLUCTK44C8DV:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json   (ca22a1cb)
2020-03-20T20:39:24.1071130+04:00 0HLUCTK44C8DV:00000002 [INF] Request finished in 1.9242ms 200 application/json;charset=utf-8 (791a596a)
2020-03-20T20:46:37.6812904+04:00 0HLUCTK44C8E0:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html   (ca22a1cb)
2020-03-20T20:46:37.6816633+04:00 0HLUCTK44C8E0:00000001 [INF] Request finished in 0.4276ms 200 text/html;charset=utf-8 (791a596a)
2020-03-20T20:46:37.9089725+04:00 0HLUCTK44C8E0:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json   (ca22a1cb)
2020-03-20T20:46:37.9105088+04:00 0HLUCTK44C8E0:00000002 [INF] Request finished in 1.5542ms 200 application/json;charset=utf-8 (791a596a)
2020-03-20T20:47:18.6287586+04:00 0HLUCTPD47AHE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html   (ca22a1cb)
2020-03-20T20:47:18.7770428+04:00 0HLUCTPD47AHE:00000001 [INF] Request finished in 156.5311ms 200 text/html;charset=utf-8 (791a596a)
2020-03-20T20:47:18.7780386+04:00 0HLUCTPD47AHF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js   (ca22a1cb)
2020-03-20T20:47:18.7780386+04:00 0HLUCTPD47AHG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js   (ca22a1cb)
2020-03-20T20:47:18.7809492+04:00 0HLUCTPD47AHE:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css   (ca22a1cb)
2020-03-20T20:47:18.7831348+04:00 0HLUCTPD47AHF:00000001 [INF] The file "/swagger-ui-bundle.js" was not modified (f1f8d725)
2020-03-20T20:47:18.7831325+04:00 0HLUCTPD47AHG:00000001 [INF] The file "/swagger-ui-standalone-preset.js" was not modified (f1f8d725)
2020-03-20T20:47:18.7831325+04:00 0HLUCTPD47AHE:00000002 [INF] The file "/swagger-ui.css" was not modified (f1f8d725)
2020-03-20T20:47:18.7851556+04:00 0HLUCTPD47AHF:00000001 [INF] Request finished in 7.1257ms 304 application/javascript (791a596a)
2020-03-20T20:47:18.7851556+04:00 0HLUCTPD47AHE:00000002 [INF] Request finished in 4.2298ms 304 text/css (791a596a)
2020-03-20T20:47:18.7851559+04:00 0HLUCTPD47AHG:00000001 [INF] Request finished in 7.1257ms 304 application/javascript (791a596a)
2020-03-20T20:47:19.0425586+04:00 0HLUCTPD47AHE:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json   (ca22a1cb)
2020-03-20T20:47:19.1337937+04:00 0HLUCTPD47AHE:00000003 [INF] Request finished in 91.2293ms 200 application/json;charset=utf-8 (791a596a)
2020-03-20T20:47:50.5343163+04:00 0HLUCTPD47AHE:00000004 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/User/Update application/json-patch+json 298 (ca22a1cb)
2020-03-20T20:47:50.5376891+04:00 0HLUCTPD47AHE:00000004 [INF] Executing endpoint '"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)"' (500cc934)
2020-03-20T20:47:50.5570949+04:00 0HLUCTPD47AHE:00000004 [INF] Route matched with "{action = \"AddUser\", controller = \"User\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddUser(Int64, System.String, System.String, System.String, Int64, Nemo_v2_Data.Entities.User)" on controller "Nemo_v2_Api.Controllers.UserController" ("Nemo v2 Api"). (122b2fdf)
2020-03-20T20:47:50.5587784+04:00 0HLUCTPD47AHE:00000004 [INF] Authorization failed for the request at filter '"Nemo_v2_Api.Filters.AuthorizationFilterAttribute"'. (8b6446cb)
2020-03-20T20:47:50.5636849+04:00 0HLUCTPD47AHE:00000004 [INF] Executing ObjectResult, writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'. (8a1b66c8)
2020-03-20T20:47:50.5973463+04:00 0HLUCTPD47AHE:00000004 [INF] Executed action "Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)" in 37.9286ms (afa2e885)
2020-03-20T20:47:50.5974026+04:00 0HLUCTPD47AHE:00000004 [INF] Executed endpoint '"Nemo_v2_Api.Controllers.UserController.AddUser (Nemo v2 Api)"' (99874f2b)
2020-03-20T20:47:50.5975282+04:00 0HLUCTPD47AHE:00000004 [INF] Request finished in 63.2893ms 401 application/problem+json; charset=utf-8 (791a596a)
2020-03-20T20:47:50.6021191+04:00  [INF] Connection id ""0HLUCTPD47AHE"", Request id ""0HLUCTPD47AHE:00000004"": the application completed without reading the entire request body. (54ac9468)
